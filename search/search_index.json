{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Streaklet","text":"<p>A self-hosted, Dockerized daily streak tracker for maintaining consistent habits.</p>"},{"location":"#overview","title":"Overview","text":"<p>Streaklet is a habit tracking application designed for families and personal use. It features multi-user profile support with completely isolated data, optional Fitbit integration for automatic task completion, and a mobile-first Progressive Web App experience.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Multi-User Profiles - Support for multiple users with completely isolated data</li> <li>Fitbit Integration - Automatic task completion based on Fitbit metrics (steps, sleep, heart rate)</li> <li>Progressive Web App (PWA) - Install on mobile devices for native app-like experience</li> <li>Offline Support - Service worker caching for offline functionality</li> <li>Mobile-First Design - Optimized daily checklist interface</li> <li>Automatic Streak Tracking - Tracks consecutive completed days</li> <li>Customizable Tasks - Required/optional task flags</li> <li>Timezone-Aware - Accurate daily tracking across timezones</li> <li>Calendar History - Visual completion calendar with stats</li> <li>Backup &amp; Restore - Export and import profile data</li> <li>Persistent SQLite Database - Simple, file-based storage</li> <li>No Authentication Required - Perfect for families on trusted networks</li> </ul>"},{"location":"#tech-stack","title":"Tech Stack","text":"<ul> <li>Backend: Python 3.12, FastAPI, SQLAlchemy 2.0</li> <li>Database: SQLite with Alembic migrations</li> <li>Frontend: Jinja2 templates, Alpine.js, HTMX</li> <li>Deployment: Docker, Docker Compose</li> <li>Testing: pytest with coverage</li> <li>CI/CD: GitHub Actions with automated releases</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Installation Guide - Get started with Docker</li> <li>Fitbit Integration - Connect your Fitbit device</li> <li>API Reference - REST API documentation</li> <li>Contributing Guide - Help improve Streaklet</li> </ul>"},{"location":"#screenshots","title":"Screenshots","text":"<p>Coming soon</p>"},{"location":"#license","title":"License","text":"<p>MIT License - See LICENSE</p>"},{"location":"api/endpoints/","title":"API Endpoints","text":"<p>Streaklet provides a REST API for programmatic access.</p>"},{"location":"api/endpoints/#profile-context","title":"Profile Context","text":"<p>All endpoints (except <code>/api/profiles</code>) accept an optional <code>X-Profile-Id</code> header to specify which profile's data to access.</p> <p>If not provided, defaults to profile ID 1.</p> <pre><code># Default (profile 1)\ncurl http://localhost:8080/api/tasks\n\n# Specific profile\ncurl -H \"X-Profile-Id: 2\" http://localhost:8080/api/tasks\n</code></pre>"},{"location":"api/endpoints/#profile-management","title":"Profile Management","text":""},{"location":"api/endpoints/#list-profiles","title":"List Profiles","text":"<pre><code>GET /api/profiles\n</code></pre> <p>Response: <pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"John\",\n    \"color\": \"#3b82f6\",\n    \"created_at\": \"2025-01-01T00:00:00Z\"\n  }\n]\n</code></pre></p>"},{"location":"api/endpoints/#get-profile","title":"Get Profile","text":"<pre><code>GET /api/profiles/{id}\n</code></pre>"},{"location":"api/endpoints/#create-profile","title":"Create Profile","text":"<pre><code>POST /api/profiles\nContent-Type: application/json\n\n{\n  \"name\": \"Jane\",\n  \"color\": \"#ef4444\"\n}\n</code></pre>"},{"location":"api/endpoints/#update-profile","title":"Update Profile","text":"<pre><code>PUT /api/profiles/{id}\nContent-Type: application/json\n\n{\n  \"name\": \"Jane Doe\",\n  \"color\": \"#10b981\"\n}\n</code></pre>"},{"location":"api/endpoints/#delete-profile","title":"Delete Profile","text":"<pre><code>DELETE /api/profiles/{id}\n</code></pre>"},{"location":"api/endpoints/#tasks","title":"Tasks","text":""},{"location":"api/endpoints/#list-tasks","title":"List Tasks","text":"<pre><code>GET /api/tasks\nX-Profile-Id: 1\n</code></pre> <p>Response: <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Exercise 30 minutes\",\n    \"is_required\": true,\n    \"is_active\": true,\n    \"sort_order\": 1,\n    \"fitbit_metric_type\": \"active_minutes\",\n    \"fitbit_goal_value\": 30.0,\n    \"fitbit_goal_operator\": \"gte\",\n    \"fitbit_auto_check\": true\n  }\n]\n</code></pre></p>"},{"location":"api/endpoints/#create-task","title":"Create Task","text":"<pre><code>POST /api/tasks\nX-Profile-Id: 1\nContent-Type: application/json\n\n{\n  \"title\": \"Read 10 pages\",\n  \"is_required\": true,\n  \"is_active\": true,\n  \"sort_order\": 1\n}\n</code></pre>"},{"location":"api/endpoints/#update-task","title":"Update Task","text":"<pre><code>PUT /api/tasks/{id}\nX-Profile-Id: 1\nContent-Type: application/json\n\n{\n  \"title\": \"Read 20 pages\",\n  \"is_required\": false\n}\n</code></pre>"},{"location":"api/endpoints/#delete-task","title":"Delete Task","text":"<pre><code>DELETE /api/tasks/{id}\nX-Profile-Id: 1\n</code></pre>"},{"location":"api/endpoints/#daily-checklist","title":"Daily Checklist","text":""},{"location":"api/endpoints/#get-todays-checklist","title":"Get Today's Checklist","text":"<pre><code>GET /api/days/today\nX-Profile-Id: 1\n</code></pre> <p>Response: <pre><code>{\n  \"date\": \"2025-01-15\",\n  \"tasks\": [\n    {\n      \"id\": 1,\n      \"title\": \"Exercise 30 minutes\",\n      \"checked\": true,\n      \"checked_at\": \"2025-01-15T10:30:00Z\",\n      \"is_required\": true,\n      \"fitbit_current_value\": 35.0,\n      \"fitbit_goal_met\": true\n    }\n  ],\n  \"all_required_complete\": false,\n  \"completed_at\": null,\n  \"streak\": {\n    \"current_streak\": 5,\n    \"today_complete\": false,\n    \"last_completed_date\": \"2025-01-14\"\n  }\n}\n</code></pre></p>"},{"location":"api/endpoints/#toggle-task-check","title":"Toggle Task Check","text":"<pre><code>PUT /api/days/{date}/checks/{task_id}\nX-Profile-Id: 1\nContent-Type: application/json\n\n{\n  \"checked\": true\n}\n</code></pre>"},{"location":"api/endpoints/#streaks","title":"Streaks","text":""},{"location":"api/endpoints/#get-streak-info","title":"Get Streak Info","text":"<pre><code>GET /api/streak\nX-Profile-Id: 1\n</code></pre> <p>Response: <pre><code>{\n  \"current_streak\": 7,\n  \"today_complete\": true,\n  \"last_completed_date\": \"2025-01-15\"\n}\n</code></pre></p>"},{"location":"api/endpoints/#history","title":"History","text":""},{"location":"api/endpoints/#get-calendar-month","title":"Get Calendar Month","text":"<pre><code>GET /api/history/{year}/{month}\nX-Profile-Id: 1\n</code></pre> <p>Example: <pre><code>GET /api/history/2025/1\n</code></pre></p> <p>Response: <pre><code>{\n  \"calendar_data\": {\n    \"year\": 2025,\n    \"month\": 1,\n    \"days_in_month\": 31,\n    \"first_day_weekday\": 2,\n    \"days\": {\n      \"2025-01-15\": {\n        \"date\": \"2025-01-15\",\n        \"completed\": true,\n        \"completed_at\": \"2025-01-15T22:00:00Z\",\n        \"completion_rate\": 100\n      }\n    }\n  },\n  \"streak\": {\n    \"current_streak\": 7,\n    \"today_complete\": true,\n    \"last_completed_date\": \"2025-01-15\"\n  }\n}\n</code></pre></p>"},{"location":"api/endpoints/#backup-import","title":"Backup &amp; Import","text":""},{"location":"api/endpoints/#export-profile","title":"Export Profile","text":"<pre><code>GET /api/profiles/{id}/export\n</code></pre> <p>Downloads JSON file with profile data.</p>"},{"location":"api/endpoints/#import-profile","title":"Import Profile","text":"<pre><code>POST /api/profiles/{id}/import\nContent-Type: multipart/form-data\n\nfile: backup.json\nmode: replace  # or \"merge\"\n</code></pre>"},{"location":"api/endpoints/#export-all-profiles","title":"Export All Profiles","text":"<pre><code>GET /api/profiles/export/all\n</code></pre>"},{"location":"api/endpoints/#import-all-profiles","title":"Import All Profiles","text":"<pre><code>POST /api/profiles/import/all\nContent-Type: multipart/form-data\n\nfile: all_profiles.json\nmode: replace  # or \"merge\"\n</code></pre>"},{"location":"api/endpoints/#fitbit-integration","title":"Fitbit Integration","text":""},{"location":"api/endpoints/#check-connection","title":"Check Connection","text":"<pre><code>GET /api/fitbit/connection\nX-Profile-Id: 1\n</code></pre>"},{"location":"api/endpoints/#get-auth-url","title":"Get Auth URL","text":"<pre><code>GET /api/fitbit/auth\nX-Profile-Id: 1\n</code></pre>"},{"location":"api/endpoints/#disconnect","title":"Disconnect","text":"<pre><code>POST /api/fitbit/disconnect\nX-Profile-Id: 1\n</code></pre>"},{"location":"api/endpoints/#manual-sync","title":"Manual Sync","text":"<pre><code>POST /api/fitbit/sync\nX-Profile-Id: 1\n</code></pre>"},{"location":"api/endpoints/#get-daily-summary","title":"Get Daily Summary","text":"<pre><code>GET /api/fitbit/daily-summary?date=2025-01-15\nX-Profile-Id: 1\n</code></pre>"},{"location":"api/endpoints/#health-check","title":"Health Check","text":"<pre><code>GET /health\n</code></pre> <p>Response: <pre><code>{\"status\": \"healthy\"}\n</code></pre></p>"},{"location":"api/endpoints/#rate-limiting","title":"Rate Limiting","text":"<p>No rate limiting is currently implemented. Use responsibly.</p>"},{"location":"api/endpoints/#error-responses","title":"Error Responses","text":"<p>Errors follow this format:</p> <pre><code>{\n  \"detail\": \"Error message description\"\n}\n</code></pre> <p>Common status codes: - <code>200</code> - Success - <code>201</code> - Created - <code>400</code> - Bad Request - <code>404</code> - Not Found - <code>500</code> - Internal Server Error</p>"},{"location":"api/overview/","title":"API Overview","text":"<p>Streaklet provides a REST API for programmatic access to all features.</p>"},{"location":"api/overview/#base-url","title":"Base URL","text":"<pre><code>http://localhost:8080/api\n</code></pre>"},{"location":"api/overview/#authentication","title":"Authentication","text":"<p>Streaklet does not require authentication. It's designed for use on trusted networks.</p> <p>Security Note: Do not expose Streaklet directly to the internet without additional authentication layers.</p>"},{"location":"api/overview/#profile-context","title":"Profile Context","text":"<p>Most endpoints require a profile context via the <code>X-Profile-Id</code> header:</p> <pre><code>curl -H \"X-Profile-Id: 1\" http://localhost:8080/api/tasks\n</code></pre> <p>If omitted, defaults to profile ID 1.</p>"},{"location":"api/overview/#response-format","title":"Response Format","text":"<p>All responses are JSON.</p> <p>Success Response: <pre><code>{\n  \"id\": 1,\n  \"name\": \"value\"\n}\n</code></pre></p> <p>Error Response: <pre><code>{\n  \"detail\": \"Error message\"\n}\n</code></pre></p>"},{"location":"api/overview/#endpoint-categories","title":"Endpoint Categories","text":"<ul> <li>Profile Management - Create, list, update profiles</li> <li>Tasks - Manage tasks for profiles</li> <li>Daily Checklist - Get today's tasks and toggle completion</li> <li>Streaks - Get streak information</li> <li>History - Access calendar and completion history</li> <li>Backup &amp; Import - Export and import profile data</li> <li>Fitbit - Fitbit OAuth and sync</li> </ul>"},{"location":"api/overview/#complete-api-reference","title":"Complete API Reference","text":"<p>See Endpoints Documentation for full API reference with examples.</p>"},{"location":"api/overview/#client-libraries","title":"Client Libraries","text":"<p>Currently no official client libraries exist. The API is simple REST - use any HTTP client.</p> <p>Example with Python: <pre><code>import requests\n\nresponse = requests.get(\n    \"http://localhost:8080/api/tasks\",\n    headers={\"X-Profile-Id\": \"1\"}\n)\ntasks = response.json()\n</code></pre></p> <p>Example with JavaScript: <pre><code>const response = await fetch('http://localhost:8080/api/tasks', {\n  headers: { 'X-Profile-Id': '1' }\n});\nconst tasks = await response.json();\n</code></pre></p>"},{"location":"api/overview/#rate-limiting","title":"Rate Limiting","text":"<p>No rate limiting is currently implemented.</p>"},{"location":"api/overview/#versioning","title":"Versioning","text":"<p>The API is not versioned. Changes will be backwards compatible where possible, with breaking changes noted in release notes.</p>"},{"location":"development/contributing/","title":"Contributing","text":"<p>Thank you for contributing to Streaklet! This guide will help you get started.</p>"},{"location":"development/contributing/#commit-message-format","title":"Commit Message Format","text":"<p>This project uses Conventional Commits for automated releases.</p>"},{"location":"development/contributing/#format","title":"Format","text":"<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;description&gt;\n\n[optional body]\n\n[optional footer]\n</code></pre>"},{"location":"development/contributing/#types","title":"Types","text":"Type Description Version Bump <code>feat</code> New feature Minor (1.0.0 \u2192 1.1.0) <code>fix</code> Bug fix Patch (1.0.0 \u2192 1.0.1) <code>feat!</code> or <code>BREAKING CHANGE:</code> Breaking change Major (1.0.0 \u2192 2.0.0) <code>docs</code> Documentation only None <code>chore</code> Maintenance tasks None <code>refactor</code> Code restructuring None <code>test</code> Test additions/changes None <code>ci</code> CI/CD changes None <code>perf</code> Performance improvement Patch"},{"location":"development/contributing/#examples","title":"Examples","text":"<pre><code># Feature (minor bump)\nfeat: add dark mode toggle to settings\n\n# Bug fix (patch bump)\nfix: resolve timezone display issue in Fitbit page\n\n# Breaking change (major bump)\nfeat!: redesign API authentication\n\nBREAKING CHANGE: API now requires JWT tokens instead of API keys\n\n# Documentation (no release)\ndocs: update installation instructions\n\n# Maintenance (no release)\nchore: update dependencies\n</code></pre>"},{"location":"development/contributing/#development-setup","title":"Development Setup","text":""},{"location":"development/contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12+</li> <li>Docker and Docker Compose</li> <li>Git</li> </ul>"},{"location":"development/contributing/#local-development","title":"Local Development","text":"<ol> <li>Clone and setup:</li> </ol> <pre><code>git clone https://github.com/ptmetcalf/streaklet.git\ncd streaklet\n\n# Create virtual environment\npython3 -m venv .venv\nsource .venv/bin/activate\n\n# Install dependencies\npip install -r requirements.txt\n</code></pre> <ol> <li>Run locally:</li> </ol> <pre><code># Start development server\n./dev.sh run\n\n# Or with uvicorn directly\nuvicorn app.main:app --reload --host 0.0.0.0 --port 8080\n</code></pre> <ol> <li>Run tests:</li> </ol> <pre><code># All tests\n./dev.sh test\n\n# With coverage\n./dev.sh test-cov\n\n# Single test file\npython -m pytest tests/test_profiles.py -v\n</code></pre> <ol> <li>Lint code:</li> </ol> <pre><code># Activate venv first\nsource .venv/bin/activate\n\n# Check for errors\nruff check app/ tests/\n\n# Auto-fix\nruff check app/ tests/ --fix\n</code></pre>"},{"location":"development/contributing/#docker-development","title":"Docker Development","text":"<pre><code># Build and run\ndocker compose up --build\n\n# Run tests in Docker\ndocker build -t streaklet:test .\ndocker run --rm --entrypoint \"\" --user appuser streaklet:test \\\n  sh -c \"PYTHONPATH=. python -m pytest tests/ -v\"\n</code></pre>"},{"location":"development/contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Create a feature branch:</li> </ol> <pre><code>git checkout -b feat/your-feature-name\n</code></pre> <ol> <li>Make changes with conventional commits:</li> </ol> <pre><code>git add .\ngit commit -m \"feat: add user export functionality\"\ngit push origin feat/your-feature-name\n</code></pre> <ol> <li>Open Pull Request:</li> <li>Target the <code>main</code> or <code>develop</code> branch</li> <li>Use conventional commit format in PR title</li> <li>Describe changes clearly</li> <li> <p>Link related issues</p> </li> <li> <p>CI must pass:</p> </li> <li>Linting</li> <li>Unit tests</li> <li>Docker build</li> <li> <p>Integration tests</p> </li> <li> <p>Review and merge:</p> </li> <li>Maintainer reviews</li> <li>Merge when approved and CI passes</li> </ol>"},{"location":"development/contributing/#release-process","title":"Release Process","text":"<p>Releases are automated via release-please:</p> <ol> <li>Merge PR to <code>main</code> with conventional commits</li> <li>release-please creates a Release PR automatically</li> <li>Maintainer reviews and merges Release PR</li> <li>GitHub Release created</li> <li>Docker images published</li> </ol> <p>See Releases Documentation for details.</p>"},{"location":"development/contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow PEP 8</li> <li>Use type hints</li> <li>Write docstrings for public functions</li> <li>Keep functions focused and small</li> <li>Write tests for new features</li> </ul>"},{"location":"development/contributing/#testing-guidelines","title":"Testing Guidelines","text":"<ul> <li>Write tests for all new features</li> <li>Maintain or improve code coverage</li> <li>Test edge cases</li> <li>Use pytest fixtures appropriately</li> </ul>"},{"location":"development/contributing/#test-structure","title":"Test Structure","text":"<pre><code>def test_feature_description(test_db, sample_profiles):\n    \"\"\"Test that feature does X when Y happens.\"\"\"\n    # Arrange\n    setup_data(test_db)\n\n    # Act\n    result = function_under_test()\n\n    # Assert\n    assert result == expected\n</code></pre>"},{"location":"development/contributing/#documentation","title":"Documentation","text":"<ul> <li>Update docs/ for user-facing changes</li> <li>Update CLAUDE.md for architecture changes</li> <li>Add docstrings for code documentation</li> <li>Include examples where helpful</li> </ul>"},{"location":"development/contributing/#security","title":"Security","text":"<ul> <li>Run as non-root user (uid 1000)</li> <li>No hardcoded secrets</li> <li>Validate user input</li> <li>Use parameterized SQL queries</li> <li>Follow OWASP security practices</li> </ul>"},{"location":"development/contributing/#questions","title":"Questions?","text":"<ul> <li>Open an issue for bugs or feature requests</li> <li>Discussion tab for questions</li> <li>Check existing issues first</li> </ul>"},{"location":"development/contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>Be respectful and constructive in all interactions.</p>"},{"location":"development/releases/","title":"Release Process","text":"<p>Streaklet uses automated releases via release-please.</p>"},{"location":"development/releases/#how-it-works","title":"How It Works","text":"<ol> <li>Commit with conventional format to <code>main</code> branch</li> <li>release-please creates a Release PR with:</li> <li>Auto-calculated version bump</li> <li>Generated CHANGELOG.md</li> <li>Merge the Release PR</li> <li>GitHub Release created automatically</li> <li>Docker images built and published</li> </ol>"},{"location":"development/releases/#version-bumping","title":"Version Bumping","text":"Commit Type Version Change <code>feat:</code> 1.0.0 \u2192 1.1.0 (minor) <code>fix:</code> 1.0.0 \u2192 1.0.1 (patch) <code>feat!:</code> or <code>BREAKING CHANGE:</code> 1.0.0 \u2192 2.0.0 (major) <code>docs:</code>, <code>chore:</code>, etc. No release"},{"location":"development/releases/#typical-workflow","title":"Typical Workflow","text":""},{"location":"development/releases/#1-make-changes","title":"1. Make Changes","text":"<pre><code>git checkout -b feat/new-feature\n# Make changes\ngit commit -m \"feat: add export functionality\"\ngit push\n</code></pre>"},{"location":"development/releases/#2-create-pr","title":"2. Create PR","text":"<ul> <li>Use conventional commit format in PR title</li> <li>Get review and approval</li> <li>Merge to <code>main</code></li> </ul>"},{"location":"development/releases/#3-wait-for-release-pr","title":"3. Wait for Release PR","text":"<p>After merge, release-please creates a PR like:</p> <p>Title: <code>chore(main): release 1.1.0</code></p> <p>Contents: <pre><code>## 1.1.0 (2025-01-15)\n\n### Features\n\n* add export functionality ([abc1234](link))\n* implement user profiles ([def5678](link))\n\n### Bug Fixes\n\n* resolve timezone issue ([ghi9012](link))\n</code></pre></p>"},{"location":"development/releases/#4-merge-release-pr","title":"4. Merge Release PR","text":"<ul> <li>Review the version number and changelog</li> <li>Merge the Release PR</li> <li>Release happens automatically!</li> </ul>"},{"location":"development/releases/#5-docker-images-published","title":"5. Docker Images Published","text":"<p>Images are tagged and published: - <code>ghcr.io/ptmetcalf/streaklet:1.1.0</code> - <code>ghcr.io/ptmetcalf/streaklet:1.1</code> - <code>ghcr.io/ptmetcalf/streaklet:1</code> - <code>ghcr.io/ptmetcalf/streaklet:latest</code></p>"},{"location":"development/releases/#checking-release-status","title":"Checking Release Status","text":"<ul> <li>Open PRs: Look for <code>chore(main): release X.Y.Z</code></li> <li>Releases: GitHub Releases</li> <li>Docker Images: Container Registry</li> <li>Workflows: GitHub Actions</li> </ul>"},{"location":"development/releases/#emergency-manual-release","title":"Emergency Manual Release","text":"<p>If automated releases fail:</p> <pre><code># Create tag manually\ngit tag -a v1.2.3 -m \"Emergency release\"\ngit push origin v1.2.3\n\n# Manually create GitHub Release in UI\n</code></pre>"},{"location":"development/releases/#configuration-files","title":"Configuration Files","text":"<ul> <li><code>.release-please-manifest.json</code> - Current version</li> <li><code>release-please-config.json</code> - Settings</li> <li><code>.github/workflows/release-please.yml</code> - Workflow</li> </ul>"},{"location":"development/releases/#for-detailed-information","title":"For Detailed Information","text":"<p>See RELEASING.md for comprehensive release documentation.</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Streaklet is configured via environment variables.</p>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":""},{"location":"getting-started/configuration/#core-settings","title":"Core Settings","text":"Variable Default Description <code>APP_TIMEZONE</code> <code>America/Chicago</code> Timezone for daily tracking (IANA format) <code>DB_PATH</code> <code>/data/app.db</code> Path to SQLite database file <code>PORT</code> <code>8080</code> HTTP server port"},{"location":"getting-started/configuration/#fitbit-integration","title":"Fitbit Integration","text":"Variable Required Description <code>FITBIT_CLIENT_ID</code> Yes* Your Fitbit OAuth client ID <code>FITBIT_CLIENT_SECRET</code> Yes* Your Fitbit OAuth client secret <code>FITBIT_CALLBACK_URL</code> Yes* OAuth callback URL (e.g., <code>http://localhost:8080/api/fitbit/callback</code>) <code>APP_SECRET_KEY</code> Yes* 32-byte secret key for token encryption <code>FITBIT_SYNC_INTERVAL_HOURS</code> <code>1</code> How often to sync Fitbit data (hours) <p>* Required only if using Fitbit integration</p>"},{"location":"getting-started/configuration/#configuration-methods","title":"Configuration Methods","text":""},{"location":"getting-started/configuration/#docker-compose","title":"Docker Compose","text":"<p>Edit <code>.env</code> file:</p> <pre><code>APP_TIMEZONE=America/New_York\nDB_PATH=/data/app.db\nPORT=8080\n\n# Fitbit (optional)\nFITBIT_CLIENT_ID=ABC123\nFITBIT_CLIENT_SECRET=def456xyz\nFITBIT_CALLBACK_URL=http://localhost:8080/api/fitbit/callback\nAPP_SECRET_KEY=your_32_byte_secret_key_here_1234\nFITBIT_SYNC_INTERVAL_HOURS=2\n</code></pre> <p>Then restart: <pre><code>docker compose restart\n</code></pre></p>"},{"location":"getting-started/configuration/#docker-cli","title":"Docker CLI","text":"<p>Pass via <code>-e</code> flags:</p> <pre><code>docker run -d \\\n  -e APP_TIMEZONE=America/New_York \\\n  -e DB_PATH=/data/app.db \\\n  -e FITBIT_CLIENT_ID=ABC123 \\\n  -p 8080:8080 \\\n  ghcr.io/ptmetcalf/streaklet:latest\n</code></pre>"},{"location":"getting-started/configuration/#timezone-configuration","title":"Timezone Configuration","text":"<p>Use IANA timezone names: Full List</p> <p>Common timezones: - <code>America/New_York</code> - Eastern Time - <code>America/Chicago</code> - Central Time - <code>America/Denver</code> - Mountain Time - <code>America/Los_Angeles</code> - Pacific Time - <code>America/Phoenix</code> - Arizona (no DST) - <code>Europe/London</code> - UK - <code>Europe/Paris</code> - Central European Time - <code>Asia/Tokyo</code> - Japan Standard Time - <code>Australia/Sydney</code> - Australian Eastern Time</p>"},{"location":"getting-started/configuration/#fitbit-setup","title":"Fitbit Setup","text":"<p>See the Fitbit Integration Guide for detailed setup instructions.</p>"},{"location":"getting-started/configuration/#generating-app_secret_key","title":"Generating APP_SECRET_KEY","text":"<pre><code># Generate a secure 32-byte key\npython -c \"import secrets; print(secrets.token_urlsafe(32))\"\n</code></pre>"},{"location":"getting-started/configuration/#volume-mounts","title":"Volume Mounts","text":"<p>The <code>/data</code> directory should be mounted to persist: - SQLite database (<code>app.db</code>) - Fitbit tokens (encrypted)</p> <pre><code>docker run -v ./data:/data [...]\n</code></pre>"},{"location":"getting-started/configuration/#port-configuration","title":"Port Configuration","text":"<p>Change the external port if 8080 is in use:</p> <pre><code># Run on port 3000 instead\ndocker run -p 3000:8080 [...]\n</code></pre> <p>The internal port (8080) stays the same.</p>"},{"location":"getting-started/configuration/#security-considerations","title":"Security Considerations","text":"<ul> <li>APP_SECRET_KEY: Keep this secret! Used to encrypt Fitbit tokens</li> <li>Network: Streaklet has no authentication - deploy on trusted networks only</li> <li>Data Directory: Set proper permissions (<code>chown 1000:1000 ./data</code>)</li> <li>Reverse Proxy: Use HTTPS if exposing to internet</li> </ul>"},{"location":"getting-started/configuration/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"getting-started/configuration/#custom-database-path","title":"Custom Database Path","text":"<pre><code>DB_PATH=/custom/path/streaklet.db\n</code></pre> <p>Ensure the directory is writable by uid 1000.</p>"},{"location":"getting-started/configuration/#sync-interval","title":"Sync Interval","text":"<p>Control how often Fitbit data syncs:</p> <pre><code>FITBIT_SYNC_INTERVAL_HOURS=3  # Sync every 3 hours\n</code></pre> <p>Lower values mean more frequent syncs but more API calls.</p>"},{"location":"getting-started/configuration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/configuration/#wrong-timezone","title":"Wrong Timezone","text":"<p>Check your timezone is valid:</p> <pre><code>docker exec streaklet python -c \"from zoneinfo import ZoneInfo; print(ZoneInfo('America/Chicago'))\"\n</code></pre>"},{"location":"getting-started/configuration/#fitbit-not-syncing","title":"Fitbit Not Syncing","text":"<ol> <li>Check <code>FITBIT_SYNC_INTERVAL_HOURS</code> is set</li> <li>View logs: <code>docker logs streaklet</code></li> <li>Manually sync from Settings page</li> </ol>"},{"location":"getting-started/configuration/#permission-errors","title":"Permission Errors","text":"<pre><code>sudo chown -R 1000:1000 ./data\ndocker restart streaklet\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Streaklet is distributed as a Docker container for easy deployment.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose installed</li> <li>(Optional) Fitbit Developer Application for Fitbit integration</li> </ul>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":"Docker Compose (Recommended)GitHub Container RegistryDocker CLI"},{"location":"getting-started/installation/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/ptmetcalf/streaklet.git\ncd streaklet\n</code></pre>"},{"location":"getting-started/installation/#2-create-environment-file","title":"2. Create Environment File","text":"<pre><code>cp .env.example .env\n</code></pre> <p>Edit <code>.env</code> and configure:</p> <pre><code>APP_TIMEZONE=America/Chicago\nDB_PATH=/data/app.db\nPORT=8080\n\n# For Fitbit integration (optional)\nFITBIT_CLIENT_ID=your_client_id\nFITBIT_CLIENT_SECRET=your_client_secret\nFITBIT_CALLBACK_URL=http://localhost:8080/api/fitbit/callback\nAPP_SECRET_KEY=your_32_byte_secret_key\n</code></pre>"},{"location":"getting-started/installation/#3-start-the-application","title":"3. Start the Application","text":"<pre><code>docker compose up -d\n</code></pre> <p>Access at: <code>http://localhost:8080</code></p>"},{"location":"getting-started/installation/#pull-pre-built-image","title":"Pull Pre-Built Image","text":"<pre><code>docker pull ghcr.io/ptmetcalf/streaklet:latest\n</code></pre>"},{"location":"getting-started/installation/#run-container","title":"Run Container","text":"<pre><code>docker run -d \\\n  --name streaklet \\\n  -p 8080:8080 \\\n  -v ./data:/data \\\n  -e APP_TIMEZONE=America/Chicago \\\n  -e DB_PATH=/data/app.db \\\n  ghcr.io/ptmetcalf/streaklet:latest\n</code></pre>"},{"location":"getting-started/installation/#build-from-source","title":"Build from Source","text":"<pre><code>git clone https://github.com/ptmetcalf/streaklet.git\ncd streaklet\ndocker build -t streaklet .\n</code></pre>"},{"location":"getting-started/installation/#run-container_1","title":"Run Container","text":"<pre><code>docker run -d \\\n  --name streaklet \\\n  -p 8080:8080 \\\n  -v ./data:/data \\\n  -e APP_TIMEZONE=America/Chicago \\\n  -e DB_PATH=/data/app.db \\\n  streaklet\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Check that the container is healthy:</p> <pre><code>docker ps\ncurl http://localhost:8080/health\n</code></pre> <p>Expected response: <pre><code>{\"status\": \"healthy\"}\n</code></pre></p>"},{"location":"getting-started/installation/#first-launch","title":"First Launch","text":"<ol> <li>Navigate to <code>http://localhost:8080</code></li> <li>You'll be redirected to the Profiles page</li> <li>A default profile is automatically created</li> <li>Start adding tasks and tracking your streaks!</li> </ol>"},{"location":"getting-started/installation/#updating","title":"Updating","text":""},{"location":"getting-started/installation/#docker-compose","title":"Docker Compose","text":"<pre><code>docker compose pull\ndocker compose up -d\n</code></pre>"},{"location":"getting-started/installation/#docker-cli","title":"Docker CLI","text":"<pre><code>docker pull ghcr.io/ptmetcalf/streaklet:latest\ndocker stop streaklet\ndocker rm streaklet\ndocker run -d --name streaklet [... same options as above ...]\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#permission-errors","title":"Permission Errors","text":"<p>If you see \"readonly database\" errors, fix data directory permissions:</p> <pre><code>chown -R 1000:1000 ./data\ndocker restart streaklet\n</code></pre> <p>The hardened Docker image runs as a non-root user (uid 1000) for security.</p>"},{"location":"getting-started/installation/#port-already-in-use","title":"Port Already in Use","text":"<p>Change the port mapping in docker-compose.yml or use a different port:</p> <pre><code>docker run -p 8081:8080 [...]\n</code></pre>"},{"location":"getting-started/installation/#database-migrations-failed","title":"Database Migrations Failed","text":"<p>Manually run migrations:</p> <pre><code>docker exec streaklet alembic upgrade head\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration Guide - Environment variables and settings</li> <li>Quick Start Tutorial - Learn the basics</li> <li>Fitbit Setup - Connect your Fitbit device</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>Get up and running with Streaklet in 5 minutes.</p>"},{"location":"getting-started/quick-start/#1-start-streaklet","title":"1. Start Streaklet","text":"<pre><code>docker run -d -p 8080:8080 -v ./data:/data ghcr.io/ptmetcalf/streaklet:latest\n</code></pre>"},{"location":"getting-started/quick-start/#2-open-in-browser","title":"2. Open in Browser","text":"<p>Navigate to <code>http://localhost:8080</code></p>"},{"location":"getting-started/quick-start/#3-create-your-profile","title":"3. Create Your Profile","text":"<p>You'll be redirected to the Profiles page. A \"Default Profile\" is automatically created.</p> <ul> <li>Click Edit to customize the name and color</li> <li>Or click Add Profile to create additional profiles for family members</li> </ul>"},{"location":"getting-started/quick-start/#4-add-your-tasks","title":"4. Add Your Tasks","text":"<p>Click Settings in the bottom navigation and:</p> <ol> <li>Edit the default tasks or create your own</li> <li>Mark tasks as Required (must complete for streak) or optional</li> <li>Drag to reorder tasks</li> <li>Save changes</li> </ol>"},{"location":"getting-started/quick-start/#5-start-tracking","title":"5. Start Tracking","text":"<p>Click Checklist to return to today's view and start checking off tasks!</p> <ul> <li>Tap tasks to mark them complete</li> <li>See your progress bar fill up</li> <li>Complete all required tasks to continue your streak</li> </ul>"},{"location":"getting-started/quick-start/#understanding-streaks","title":"Understanding Streaks","text":"<ul> <li>Day 1: Complete all required tasks</li> <li>Streak continues: Keep completing all required tasks daily</li> <li>Streak breaks: Miss any required task on any day</li> <li>Today incomplete: Streak shows Day 1 until today is complete</li> </ul>"},{"location":"getting-started/quick-start/#multi-user-setup","title":"Multi-User Setup","text":"<p>Each family member can have their own profile:</p> <ol> <li>Go to Profiles page</li> <li>Click Add Profile</li> <li>Choose name and color</li> <li>Each profile gets independent:</li> <li>Tasks</li> <li>Check history</li> <li>Streak count</li> <li>Calendar</li> </ol>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Enable Fitbit Integration - Auto-complete tasks</li> <li>Install as PWA - Add to home screen</li> <li>Configure Settings - Customize timezone and more</li> </ul>"}]}